---
import { Image } from "astro:assets";

import vsIcon from "../assets/icons/vs.svg";
import openIcon from "../assets/icons/openai.svg";
import mysqlwIcon from "../assets/icons/mysqlw.svg";
import dbeaverIcon from "../assets/icons/dbeaver.svg";
import postmanIcon from "../assets/icons/postman.svg";
import cpanelIcon from "../assets/icons/cpanel.svg";
import npmIcon from "../assets/icons/npm.svg";
import nugetIcon from "../assets/icons/nuget.svg";
import yarnIcon from "../assets/icons/yarn.svg";
import figmaIcon from "../assets/icons/figma.svg";
import drawIcon from "../assets/icons/draw.svg";
import jiraIcon from "../assets/icons/jira.svg";
import teamsIcon from "../assets/icons/teams.svg";

import { getLangFromUrl, useTranslations } from '../i18n/utils';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const homeLabels = (t("home") as any);
const i18 = homeLabels["tools"];
const allTools = [
  {
    category: i18.category1,
    tools: [
      {
        toolName: "VS Code",
        link: "https://code.visualstudio.com/",
        description: i18.type2,
        path: vsIcon,
      },
      {
        toolName: "ChatGPT",
        link: "https://chat.openai.com/",
        description: "AI",
        path: openIcon,
      },
      {
        toolName: "MySQL Workbench",
        link: "https://www.mysql.com/products/workbench/",
        description: i18.type1,
        path: mysqlwIcon,
      },
      {
        toolName: "DBeaver",
        link: "https://dbeaver.io/",
        description: i18.type1,
        path: dbeaverIcon,
      },
      {
        toolName: "Postman / RapidAPI",
        link: "https://www.postman.com/",
        description: i18.type5,
        path: postmanIcon,
      },
      {
        toolName: "C-Panel",
        link: "https://cpanel.net/",
        description: i18.type3,
        path: cpanelIcon,
      },
      {
        toolName: "NPM",
        link: "https://www.npmjs.com/",
        description: i18.type4,
        path: npmIcon,
      },
      {
        toolName: "Nuget",
        link: "https://www.nuget.org/",
        description: i18.type4,
        path: nugetIcon,
      },
      {
        toolName: "Yarn",
        link: "https://yarnpkg.com/",
        description: i18.type4,
        path: yarnIcon,
      },
    ],
  },
  {
    category: i18.category2,
    tools: [
      //   {
      //     toolName: "Figma",
      //     link: "https://www.figma.com/",
      //     description: "Design Tool",
      //     path: figmaIcon,
      //   },
      {
        toolName: "Draw.io",
        link: "https://app.diagrams.net/",
        description: i18.type6,
        path: drawIcon,
      },
    ],
  },
  {
    category: i18.category3,
    tools: [
      {
        toolName: "Jira",
        link: "https://www.atlassian.com/",
        description: i18.type7,
        path: jiraIcon,
      },
      {
        toolName: "Teams",
        link: "https://www.microsoft.com/es-mx/microsoft-teams",
        description: i18.type8,
        path: teamsIcon,
      },
    ],
  },
];
---

<div
  class="text-xl font-semibold text-secondary-foreground flex flex-row items-center"
>
  <svg
    width="1em"
    height="1em"
    viewBox="0 0 100 100"
    class="text-accent-600 dark:text-accent-200"
    data-icon="round"
  >
    <use xlink:href="#ai:local:round"></use>
  </svg><h1 class="pl-2 font-bold" aria-label="Tools">
    {homeLabels.tools.title}
  </h1>
</div>
<div class="flex flex-col gap-y-3">
  {
    allTools.map(({ category, tools }) => (
      <div class="bg-background-secondary flex w-full flex-col gap-x-7 gap-y-1 p-5 text-secondary-foreground relative rounded-2xl">
        <div class="flex flex-col gap-y-1.5">
          <h2 class="px-2 text-lg font-medium text-secondary-foreground">
            {category}
          </h2>
          <div class="grid grid-cols-1 gap-x-2 gap-y-3 sm:grid-cols-2 sm:gap-y-4">
            {tools.map(({ link, toolName, path, description }) => (
              <a class="group" href={link} id={toolName} target="_blank">
                <div class="flex flex-row items-center gap-x-4 px-2 py-0.5 transition-all group-hover:bg-background-tertiary rounded-lg">
                  <div class="bg-white bg-background-tertiary border-solid border-current border h-10 w-10 transition-all group-hover:shadow-none shadow-sm p-2 rounded-lg flex items-center justify-center cursor-default">
                    <Image src={path} alt={toolName} width={20} />
                  </div>
                  <div class="flex flex-col">
                    <h3 class="font-medium text-secondary-foreground">
                      {toolName}
                    </h3>
                    <p class="text-muted-foreground">{description}</p>
                  </div>
                </div>
              </a>
            ))}
          </div>
        </div>
      </div>
    ))
  }
</div>
